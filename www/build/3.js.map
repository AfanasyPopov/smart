{"version":3,"sources":["../../src/pages/admin/admin.module.ts","../../src/pages/admin/admin.ts","../../src/pipes/filter/filter.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AdminPage } from './admin';\nimport {FilterPipe} from '../../pipes/filter/filter'\n\n@NgModule({\n  declarations: [\n    AdminPage,\n    FilterPipe,\n  ],\n  imports: [\n    IonicPageModule.forChild(AdminPage),\n  ],\n})\nexport class AdminPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin/admin.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, AlertController } from 'ionic-angular';\nimport { FilterPipe} from '../../pipes/filter/filter';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Api } from '../../providers/api/api';\nimport { Storage } from '@ionic/storage';\nimport { ApplicationRef } from '@angular/core'\nimport { ToastController } from 'ionic-angular/components/toast/toast-controller';\nimport { HttpClient, HttpHeaders, HttpParams, HttpRequest, HttpEvent, HttpEventType ,HttpErrorResponse,} from '@angular/common/http';\nimport { MyApp } from '../../app/app.component';\n\n/**\n * Generated class for the AdminPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-admin',\n  templateUrl: 'admin.html',\n})\nexport class AdminPage {\n  adminTitle = \"\";\n  searchtxtUser = \"\";\n  delButtonTitle = \"\";\n  showConfirmForUserDelTitle = '';\n  showConfirmForUserDelSubTitle = '';\n  adminUserCardItems = {\n    name: \"Пользователи\",\n    count_active: 5,\n    count: 5,\n    list: [],\n    dir: []\n  };\n  adminDirCardItems = [{\n    name: \"Справочникки\",\n    count_active: 5,\n    count: 5,\n    list: [],\n    dir: []\n  }];\n  ionChangeFlag = true;\n  constructor(\n    public alertCtrl: AlertController,\n    public modalCtrl: ModalController,\n    private applicationRef: ApplicationRef,\n    public api: Api,\n    public translateService: TranslateService,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public storage: Storage,\n    public toastCtrl: ToastController,\n    public myApp: MyApp\n  ) {\n    translateService.get(['ADMIN_TITLE', 'DELETE_BUTTON', 'SHOW_CONFIRM_FOR_USER_DEL_TITLE']).subscribe(values => {\n      this.adminTitle = values['ADMIN_TITLE'];\n      this.delButtonTitle = values['DELETE_BUTTON'];\n      this.showConfirmForUserDelTitle = values['SHOW_CONFIRM_FOR_USER_DEL_TITLE']\n    });\n    this.storage.get('account').then((val) => {\n      this.getUserList(val)\n    });\n  }\n  toggleUserActive(event: any, item: any): void {\n    this.storage.get('account').then(accountInfo => {\n      accountInfo.item = {\n        uuid_key: item.uuid_key,\n        active: item.active\n      }\n      this.api.postData('updateUser', accountInfo)\n        .subscribe(res => {\n            if (res == 'УСПЕШНО') {\n              let toast = this.toastCtrl.create({\n                message: 'Обновление данных прошло: ' + JSON.stringify(res),\n                duration: 3000,\n                position: 'bottom',\n                cssClass: 'success',\n                showCloseButton: true,\n                closeButtonText: 'OK'\n              });\n              toast.present();\n            }\n          },\n          error => {\n            if (this.ionChangeFlag) {\n              this.ionChangeFlag = false;\n              event.disabled = true;\n              setTimeout(() => {\n                this.ionChangeFlag = true\n                event.disabled = false;\n              }, 1000);\n              setTimeout(() => {\n                item.active = !item.active;\n              }, 900);\n              let toast = this.toastCtrl.create({\n                message: 'Обновление данных прошло: c ошибкой . Требуется восстановление связи. ',\n                duration: 3000,\n                position: 'bottom',\n                cssClass: 'error',\n                showCloseButton: true,\n                closeButtonText: 'OK'\n              });\n              toast.present();\n            }\n          })\n\n    });\n\n\n  }\n\n  toastLongRequest = this.toastCtrl.create({\n    message: 'Данные загружаются... ',\n    duration: 0,\n    position: 'top',\n    cssClass: 'success',\n    showCloseButton: true,\n    closeButtonText: 'OK'\n  });\n\n  /**\n   * Prompt the user to add a new item. This shows our ItemCreatePage in a\n   * modal and then adds the new item to our data source if the user created one.\n   */\n  addUser() {\n    let addModal = this.modalCtrl.create('ItemCreatePage');\n    addModal.onDidDismiss(item => {\n      if (item) {\n        this.storage.get('account').then(accountInfo => {\n          var nameArr = item.name.split(' ');\n          if (nameArr[1]) {\n            item.last_name = nameArr[0];\n            item.name = nameArr[1];\n          } else {\n            item.last_name = nameArr[0];\n            item.name = ' ';\n          }\n          accountInfo.item = item;\n          this.toastLongRequest.present();\n\n          this.api.addUserLongRequest('addUser', accountInfo)\n            .subscribe(\n              event => {\n                if (event.type === HttpEventType.DownloadProgress) {\n                  console.log(\"Download progress event\", event);\n                }\n\n                if (event.type === HttpEventType.UploadProgress) {\n                  console.log(\"Upload progress event\", event);\n                  this.toastLongRequest.data.message = ('Данные загружаются... ' + event.loaded + '/' + event.total);\n                }\n\n                if (event.type === HttpEventType.Response) {\n                  console.log(\"Данные загружены УСПЕШНО..............\", JSON.stringify(event.body));\n                  console.log(\"Пользователь создан..............\");\n                  this.toastLongRequest.dismiss()\n                  let toastLongRequest = this.toastCtrl.create({\n                    message: 'Данные загружены УСПЕШНО. \\n Пользователь содзан.',\n                    duration: 3000,\n                    position: 'top',\n                    cssClass: 'success',\n                    showCloseButton: true,\n                    closeButtonText: 'OK'\n                  });\n                  toastLongRequest.present();\n                  this.storage.get('account').then((val) => {\n                    this.getUserList(val)\n                  });\n\n                }\n\n              }\n            );\n        })\n      }\n    })\n    addModal.present();\n  }\n  delUserConfirmation(item) {\n    this.showConfirmForDelUser(this.showConfirmForUserDelTitle, item)\n  }\n  delUser(item) {\n    this.storage.get('account').then(accountInfo => {\n      accountInfo.item = item;\n      let toastLongRequest = this.toastCtrl.create({\n        message: 'Запрос на УДАЛЕНИЕ отправлен. ',\n        duration: 3000,\n        position: 'top',\n        cssClass: 'success',\n        showCloseButton: true,\n        closeButtonText: 'OK'\n      });\n      toastLongRequest.present();\n      this.api.delUser('delUser', accountInfo)\n        .subscribe(\n          event => {\n            if (event.type === HttpEventType.DownloadProgress) {\n              console.log(\"Download progress event\", event);\n            }\n\n            if (event.type === HttpEventType.UploadProgress) {\n              console.log(\"Upload progress event\", event);\n\n              //toastLongRequest.data.message = JSON.stringify(event);\n            }\n\n            if (event.type === HttpEventType.Response) {\n              console.log(\"Пользователь УДАЛЕН...\", JSON.stringify(event.body));\n              toastLongRequest.setMessage('УДАЛЕН Пользователь: ' + event.body[0].last_name + ' ' + event.body[0].username) //+JSON.stringify(event.body));\n              this.storage.get('account').then((val) => {\n                this.getUserList(val)\n              });\n            }\n\n          }\n        );\n    })\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AdminPage');\n  }\n  getUserList(accountInfo: any): any {\n    return this.api.postData('getUserList', accountInfo).subscribe(res => {\n      this.adminUserCardItems.list = res['users'];\n      this.adminUserCardItems.dir = res['dir'];\n      // this.applicationRef.tick(); \n      for (let i in this.adminUserCardItems.list) {\n        this.adminUserCardItems.list[i].url = this.myApp.file_db_root + this.adminUserCardItems.list[i].url\n      }\n      console.log(\"adminPage.adminUserCardItems:\");\n      console.log(this.adminUserCardItems);\n    });\n  }\n  openItem(item: any) {\n    this.navCtrl.push('UserItemPage', {\n      item: item,\n      dir: this.adminUserCardItems.dir\n    });\n  }\n  deleteChip(chip: Element) {\n    chip.remove();\n  }\n  showConfirmForDelUser(title: string, item: any) {\n    var confirmStatus = false;\n    let confirm = this.alertCtrl.create({\n      title: title,\n      message: item.last_name + \" \" + item.username,\n      buttons: [{\n          text: 'Отмена',\n          handler: () => {\n            console.log('Disagree clicked');\n            //confirm.dismiss();\n            //confirmStatus =false;\n          }\n        },\n        {\n          text: 'Согласен',\n          handler: () => {\n            console.log('Agree clicked');\n            this.delUser(item);\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin/admin.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the FilterPipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'filter',\n  pure: true\n})\nexport class FilterPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(items: any[], terms: string): any[] {\n    if(!items) return [];\n    if(!terms) return items;\n    return items.filter(item => JSON.stringify(item).toLowerCase().indexOf(terms.toLowerCase()) !== -1);\n\n    //return items.filter( it => {\n    //return (it.username+it.last_name).toLowerCase().includes(terms); // only filter country name\n    };\n  }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/filter/filter.ts"],"sourceRoot":""}