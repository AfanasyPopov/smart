{"version":3,"sources":["../../src/pages/project-create/project-create.module.ts","../../src/pages/project-create/project-create.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProjectCreatePage } from './project-create';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    ProjectCreatePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProjectCreatePage),\n    TranslateModule.forChild()\n  ],\n})\nexport class ProjectCreatePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/project-create/project-create.module.ts","import { Component, ViewChild, Injectable } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Camera } from '@ionic-native/camera';\nimport { IonicPage, NavController, ViewController,NavParams } from 'ionic-angular';\nimport { Api } from '../../providers/api/api';\nimport { Storage } from '@ionic/storage';\nimport { MyApp } from '../../app/app.component';\n\n/**\n * Generated class for the ProjectCreatePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n//@Injectable()\n@IonicPage()\n@Component({\n  selector: 'page-project-create',\n  templateUrl: 'project-create.html',\n})\nexport class ProjectCreatePage {\n  @ViewChild('fileInput') fileInput;\n  file_db_root: string;\n  isReadyToSave: boolean;\n  item: any;\n  form: FormGroup;\n  dir:any={};\n\n  constructor(\n    public navCtrl: NavController, \n    public viewCtrl: ViewController, \n    public formBuilder: FormBuilder, \n    public camera: Camera, \n    public storage: Storage,\n    public api:Api,\n    public navParams:NavParams\n  ) \n  {\n    this.file_db_root=navParams.get('file_db_root');\n    this.form = formBuilder.group({\n      profilePic: [''],\n      projectName: ['', Validators.required],\n      projectDescription: [''],\n      projectManager:[''],\n      contragentOur:[''],\n      contragentCostumer:['']\n    });\n\n    // Watch the form for changes, and\n    this.form.valueChanges.subscribe((v) => {\n      this.isReadyToSave = this.form.valid;\n    });\n    this.storage.get('account').then((val) => {\n      this.getUserList(val)\n      });\n  \n}\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ProjectCreatePage');\n  }\n\n  getUserList(accountInfo: any): any {\n    return this.api.postData('getUserList', accountInfo).subscribe(res => {\n      this.dir.userList = res['users'];\n      for (let i in this.dir.userList) {\n        this.dir.userList[i].url = this.file_db_root + this.dir.userList[i].url\n      }\n      console.log(\"ProjectCreatePage.getUserList:\");\n      console.log(this.dir);\n    });\n  }\n\n  getPicture() {\n    if (Camera['installed']()) {\n      this.camera.getPicture({\n        destinationType: this.camera.DestinationType.DATA_URL,\n        targetWidth: 96,\n        targetHeight: 96\n      }).then((data) => {\n        this.form.patchValue({ 'profilePic': 'data:image/jpg;base64,' + data });\n      }, (err) => {\n        alert('Unable to take photo');\n      })\n    } else {\n      this.fileInput.nativeElement.click();\n    }\n  }\n\n  processWebImage(event) {\n    let reader = new FileReader();\n    reader.onload = (readerEvent) => {\n\n      let imageData = (readerEvent.target as any).result;\n      this.form.patchValue({ 'profilePic': imageData });\n    };\n\n    reader.readAsDataURL(event.target.files[0]);\n  }\n\n  getProfileImageStyle() {\n    return 'url(' + this.form.controls['profilePic'].value + ')'\n  }\n\n  /**\n   * The user cancelled, so we dismiss without sending data back.\n   */\n  cancel() {\n    this.viewCtrl.dismiss();\n  }\n\n  /**\n   * The user is done and wants to create the item, so return it\n   * back to the presenter.\n   */\n  done() {\n    if (!this.form.valid) { return; }\n    this.viewCtrl.dismiss(this.form.value);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/project-create/project-create.ts"],"sourceRoot":""}