{"version":3,"sources":["../../src/pages/admin/admin.module.ts","../../src/pages/admin/admin.ts","../../src/pipes/filter/filter.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AdminPage } from './admin';\nimport {FilterPipe} from '../../pipes/filter/filter'\n\n@NgModule({\n  declarations: [\n    AdminPage,\n    FilterPipe,\n  ],\n  imports: [\n    IonicPageModule.forChild(AdminPage),\n  ],\n})\nexport class AdminPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin/admin.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { FilterPipe} from '../../pipes/filter/filter';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Api } from '../../providers/api/api';\nimport {Storage} from '@ionic/storage';\nimport { ApplicationRef } from '@angular/core'\nimport { ToastController } from 'ionic-angular/components/toast/toast-controller';\n\n/**\n * Generated class for the AdminPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-admin',\n  templateUrl: 'admin.html',\n})\nexport class AdminPage {\n  adminTitle=\"\";\n  searchtxtUser =\"\";\n  delButtonTitle =\"\";\n  adminUserCardItems={name:\"Пользователи\",count_active:5,count:5, list:[], dir:[] };\n  adminDirCardItems =[{name:\"Справочникки\",count_active:5,count:5, list:[], dir:[] }];\n  ionChangeFlag = true;\n  constructor(\n    private applicationRef : ApplicationRef,\n    public api: Api, \n    public translateService: TranslateService,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public storage: Storage,\n    public toastCtrl: ToastController,\n    ) {\n    translateService.get(['ADMIN_TITLE','DELETE_BUTTON']).subscribe(values => {\n      this.adminTitle = values['ADMIN_TITLE'];\n      this.delButtonTitle = values['DELETE_BUTTON'];\n    });\n    this.storage.get('account').then((val) => {\n      this.getUserList(val).subscribe (res=>{\n        this.adminUserCardItems.list=res.users;\n        this.adminUserCardItems.dir=res.dir;\n        this.applicationRef.tick();  \n        console.log (\"adminPage.adminUserCardItems:\");\n        console.log (this.adminUserCardItems);\n      }) ;\n    });\n}  \ntoggleUserActive(event:any, item:any):void  {\n      this.storage.get('account').then(accountInfo => {\n        accountInfo.item={\n          uuid_key:item.uuid_key,\n          active: item.active\n        }\n        this.api.postData('updateUser', accountInfo)\n         .subscribe (res=>{\n            if (res == 'УСПЕШНО'){\n              let  toast = this.toastCtrl.create({\n                message: 'Обновление данных прошло: '+JSON.stringify(res),\n                duration: 3000,\n                position: 'bottom',\n                cssClass:'success',\n                showCloseButton:true,\n                closeButtonText:'OK'\n              });\n            toast.present(); \n            } \n        },\n      error=>{\n        if (this.ionChangeFlag) {\n          this.ionChangeFlag=false;\n          event.disabled=true;\n          setTimeout(()=>{\n            this.ionChangeFlag=true\n            event.disabled=false;\n          },1000);\n          setTimeout(()=>{\n            item.active=!item.active; \n          },900);\n          let  toast = this.toastCtrl.create({\n            message: 'Обновление данных прошло: c ошибкой '+JSON.stringify(error),\n            duration: 3000,\n            position: 'bottom',\n            cssClass:'error',\n            showCloseButton:true,\n            closeButtonText:'OK'\n          });\n          toast.present(); \n        }\n      })\n        \n    });\n      \n  \n}\n\nionViewDidLoad() {\n    console.log('ionViewDidLoad AdminPage');\n  }\n  getUserList (accountInfo: any):any  {\n    return this.api.postData('getUserList', accountInfo)\n }\n openItem(item: any) {\n  this.navCtrl.push('UserItemPage', {\n    item: item, \n    dir: this.adminUserCardItems.dir\n  });\n}\n  deleteChip(chip: Element) {\n    chip.remove();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin/admin.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the FilterPipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'filter',\n  pure: true\n})\nexport class FilterPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(items: any[], terms: string): any[] {\n    if(!items) return [];\n    if(!terms) return items;\n    return items.filter(item => JSON.stringify(item).toLowerCase().indexOf(terms.toLowerCase()) !== -1);\n\n    //return items.filter( it => {\n    //return (it.username+it.last_name).toLowerCase().includes(terms); // only filter country name\n    };\n  }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/filter/filter.ts"],"sourceRoot":""}