{"version":3,"sources":["../../src/pages/admin/admin.module.ts","../../src/pages/admin/admin.ts","../../src/pipes/filter/filter.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AdminPage } from './admin';\nimport {FilterPipe} from '../../pipes/filter/filter'\n\n@NgModule({\n  declarations: [\n    AdminPage,\n    FilterPipe,\n  ],\n  imports: [\n    IonicPageModule.forChild(AdminPage),\n  ],\n})\nexport class AdminPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin/admin.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, AlertController } from 'ionic-angular';\nimport { FilterPipe} from '../../pipes/filter/filter';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Api } from '../../providers/api/api';\nimport {Storage} from '@ionic/storage';\nimport { ApplicationRef } from '@angular/core'\nimport { ToastController } from 'ionic-angular/components/toast/toast-controller';\nimport { HttpClient, HttpHeaders, HttpParams, HttpRequest, HttpEvent, HttpEventType ,HttpErrorResponse,} from '@angular/common/http';\nimport { MyApp } from '../../app/app.component';\n/**\n * Generated class for the AdminPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-admin',\n  templateUrl: 'admin.html',\n})\nexport class AdminPage {\n  adminTitle=\"\";\n  searchtxtUser =\"\";\n  delButtonTitle =\"\";\n  showConfirmForUserDelTitle='';\n  showConfirmForUserDelSubTitle='';\n  adminUserCardItems={name:\"Пользователи\",count_active:5,count:5, list:[], dir:[] };\n  adminDirCardItems =[{name:\"Справочникки\",count_active:5,count:5, list:[], dir:[] }];\n  ionChangeFlag = true;\n  constructor(\n    public alertCtrl: AlertController,\n    public modalCtrl: ModalController,\n    private applicationRef : ApplicationRef,\n    public api: Api, \n    public translateService: TranslateService,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public storage: Storage,\n    public toastCtrl: ToastController,\n    public myApp: MyApp,\n    ) {\n    translateService.get(['ADMIN_TITLE','DELETE_BUTTON','SHOW_CONFIRM_FOR_USER_DEL_TITLE']).subscribe(values => {\n      this.adminTitle = values['ADMIN_TITLE'];\n      this.delButtonTitle = values['DELETE_BUTTON'];\n      this.showConfirmForUserDelTitle = values['SHOW_CONFIRM_FOR_USER_DEL_TITLE']\n    });\n    this.storage.get('account').then((val) => {\n      this.getUserList(val)\n    });\n}  \ntoggleUserActive(event:any, item:any):void  {\n      this.storage.get('account').then(accountInfo => {\n        accountInfo.item={\n          uuid_key:item.uuid_key,\n          active: item.active\n        }\n        this.api.postData('updateUser', accountInfo)\n         .subscribe (res=>{\n            if (res == 'УСПЕШНО'){\n              let  toast = this.toastCtrl.create({\n                message: 'Обновление данных прошло: '+JSON.stringify(res),\n                duration: 3000,\n                position: 'bottom',\n                cssClass:'success',\n                showCloseButton:true,\n                closeButtonText:'OK'\n              });\n            toast.present(); \n            } \n        },\n      error=>{\n        if (this.ionChangeFlag) {\n          this.ionChangeFlag=false;\n          event.disabled=true;\n          setTimeout(()=>{\n            this.ionChangeFlag=true\n            event.disabled=false;\n          },1000);\n          setTimeout(()=>{\n            item.active=!item.active; \n          },900);\n          let  toast = this.toastCtrl.create({\n            message: 'Обновление данных прошло: c ошибкой . Требуется восстановление связи. ',\n            duration: 3000,\n            position: 'bottom',\n            cssClass:'error',\n            showCloseButton:true,\n            closeButtonText:'OK'\n          });\n          toast.present(); \n        }\n      })\n        \n    });\n      \n  \n}\n\ntoastLongRequest = this.toastCtrl.create({\n  message: 'Данные загружаются... ',\n  duration: 0,\n  position: 'top',\n  cssClass:'success',\n  showCloseButton:true,\n  closeButtonText:'OK'\n});\n\n  /**\n   * Prompt the user to add a new item. This shows our ItemCreatePage in a\n   * modal and then adds the new item to our data source if the user created one.\n   */\n  addUser() {\n    let addModal = this.modalCtrl.create('ItemCreatePage');\n    addModal.onDidDismiss(item => {\n      if (item) {\n        this.storage.get('account').then(accountInfo => {\n            var nameArr =item.name.split(' ');\n            if (nameArr[1]) {\n              item.last_name=nameArr[0];\n              item.name=nameArr[1];\n            } else {\n              item.last_name=nameArr[0];\n              item.name=' ';\n            }\n            accountInfo.item=item;\n            this.toastLongRequest.present(); \n\n            this.api.addUserLongRequest('addUser', accountInfo)\n            .subscribe(\n              event => {\n                  if (event.type === HttpEventType.DownloadProgress) {\n                      console.log(\"Download progress event\", event);\n                  }\n\n                  if (event.type === HttpEventType.UploadProgress) {\n                      console.log(\"Upload progress event\", event);\n                      this.toastLongRequest.data.message = ('Данные загружаются... '+event.loaded+'/'+event.total);\n                  }\n\n                  if (event.type === HttpEventType.Response) {\n                    console.log(\"Данные загружены УСПЕШНО..............\", JSON.stringify(event.body));\n                    console.log(\"Пользователь создан..............\");\n                    this.toastLongRequest.dismiss()\n                    let  toastLongRequest = this.toastCtrl.create({\n                      message: 'Данные загружены УСПЕШНО. \\n Пользователь содзан.',\n                      duration: 3000,\n                      position: 'top',\n                      cssClass:'success',\n                      showCloseButton:true,\n                      closeButtonText:'OK'\n                    });\n                    toastLongRequest.present(); \n                    this.storage.get('account').then((val) => {\n                        this.getUserList(val)\n                    });\n\n                  }\n\n              }\n            );\n        })\n      }\n    })\n    addModal.present();\n  }\ndelUserConfirmation (item){\n  this.showConfirmForDelUser(this.showConfirmForUserDelTitle, item)\n}\ndelUser(item) {\n        this.storage.get('account').then(accountInfo => {\n            accountInfo.item=item;\n            let  toastLongRequest = this.toastCtrl.create({\n              message: 'Запрос на УДАЛЕНИЕ отправлен. ',\n              duration: 3000,\n              position: 'top',\n              cssClass:'success',\n              showCloseButton:true,\n              closeButtonText:'OK'\n            });\n            toastLongRequest.present(); \n            this.api.delUser('delUser', accountInfo)\n            .subscribe(\n              event => {\n                  if (event.type === HttpEventType.DownloadProgress) {\n                      console.log(\"Download progress event\", event);\n                  }\n\n                  if (event.type === HttpEventType.UploadProgress) {\n                      console.log(\"Upload progress event\", event);\n    \n                      //toastLongRequest.data.message = JSON.stringify(event);\n                  }\n\n                  if (event.type === HttpEventType.Response) {\n                      console.log(\"Пользователь УДАЛЕН...\", JSON.stringify(event.body));\n                      toastLongRequest.setMessage('УДАЛЕН Пользователь: '+event.body[0].last_name+' '+event.body[0].username)//+JSON.stringify(event.body));\n                      this.storage.get('account').then((val) => {\n                        this.getUserList(val)\n                      });\n                  }\n\n              }\n            );\n        })\n    \n}\n\nionViewDidLoad() {\n    console.log('ionViewDidLoad AdminPage');\n  }\ngetUserList (accountInfo: any):any  {\n    return this.api.postData('getUserList', accountInfo).subscribe (res=>{\n      this.adminUserCardItems.list=res['users'];\n      this.adminUserCardItems.dir=res['dir'];\n     // this.applicationRef.tick(); \n     for (let i in this.adminUserCardItems.list) {\n      this.adminUserCardItems.list[i].url=this.myApp.file_db_root+this.adminUserCardItems.list[i].url\n     }\n      console.log (\"adminPage.adminUserCardItems:\");\n      console.log (this.adminUserCardItems);\n    }) ;\n }\nopenItem(item: any) {\n  this.navCtrl.push('UserItemPage', {\n    item: item, \n    dir: this.adminUserCardItems.dir\n  });\n}\ndeleteChip(chip: Element) {\n    chip.remove();\n  }\n  showConfirmForDelUser(title:string,item:any) {\n    var confirmStatus = false;\n    let confirm = this.alertCtrl.create({\n      title:title,\n      message: item.last_name+\" \"+item.username,\n      buttons: [\n        {\n          text: 'Отмена',\n          handler: () => {\n            console.log('Disagree clicked');\n            //confirm.dismiss();\n            //confirmStatus =false;\n          }\n        },\n        {\n          text: 'Согласен',\n          handler: () => {\n            console.log('Agree clicked');\n            this.delUser(item);\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin/admin.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the FilterPipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'filter',\n  pure: true\n})\nexport class FilterPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(items: any[], terms: string): any[] {\n    if(!items) return [];\n    if(!terms) return items;\n    return items.filter(item => JSON.stringify(item).toLowerCase().indexOf(terms.toLowerCase()) !== -1);\n\n    //return items.filter( it => {\n    //return (it.username+it.last_name).toLowerCase().includes(terms); // only filter country name\n    };\n  }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/filter/filter.ts"],"sourceRoot":""}